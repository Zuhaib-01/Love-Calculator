<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<!-- SEO basics -->
  	<meta name="description" content="Love Alchemy â€” Discover love compatibility using numerology, fun animations, and shareable results. Find out your soul chemistry today!">
  	<meta name="keywords" content="love calculator, numerology love, love compatibility, love test, soulmate calculator, romantic compatibility, Love Alchemy">
	<link rel="icon" href="hearts.png" type="image/x-icon" />
	<title>Love Alchemy â€” Advanced Love Calculator ğŸ’˜</title>
	<link rel="stylesheet" href="style.css" />
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700;900&display=swap" rel="stylesheet" />

	<!-- Google Translate -->
	<script type="text/javascript">
		function googleTranslateElementInit() {
			new google.translate.TranslateElement(
				{
					pageLanguage: 'en',
					includedLanguages: 'es,hi,fr,en,de,it,pt,ru,zh,ja,ko,ar,hi,tr,pl,nl,sv',
					layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
					autoDisplay: false,
				},
				'google_translate_element'
			)
		}
	</script>
	<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
	<main class="app">
		<div class="bg-ambience"></div>
		<header class="top">
			<div class="logo">
  <a href="index.html">
    <img src="logo.svg" alt="Logo" />
  </a>
</div>

			<!-- Mood indicator for entire page -->
			<div id="moodIndicator" class="mood-indicator hidden">
				<span id="moodIcon" class="mood-icon">âœ¨</span>
				<span id="moodLabel" class="mood-label">Playful</span>
			</div>

		<button id="menu-toggle" class="menu-toggle" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>
            
            <!-- Your navigation controls -->
            <div id="nav-controls" class="controls">
                <button id="historyBtn" class="ghost-btn navbar_buttons" title="View history">ğŸ“œ History</button>
                <button id="feedbackBtn" class="ghost-btn navbar_buttons" title="Give Feedback">ğŸ’¬ Feedback</button>
                <button id="resetBtn" class="ghost-btn navbar_buttons" title="Reset inputs">ğŸ” Reset</button>
                <div id="google_translate_element"></div>
				<button id="confettiToggle" class="ghost-btn navbar_buttons" title="Toggle confetti">ğŸŠ Confetti (on)</button>
                <button id="themeToggleBtn" class="ghost-btn theme-button" title="Theme">â˜€ï¸ Light Mode</button>
            </div>
		</header>

		<section class="card">
			<!-- Alert Dialog -->
			<div id="customAlert" class="custom-alert-overlay">
				<div class="custom-alert-box">
					<h2 id="alertTitle">Notice</h2>
					<p id="alertMessage"></p>
					<button id="alertOkBtn">OK</button>
				</div>
			</div>

			<div class="left">
				<h1 class="title">âœ¨ Love Calculator</h1>
				<p class="subtitle">
					A mix of numerology + a pinch of magic â€” same names give the same result.
				</p>

				<form id="loveForm" class="form" autocomplete="off" onsubmit="return false;">
					<div class="inputs">
						<label class="input-wrap">
							<input id="name1" type="text" placeholder="Romeo" aria-label="Your name" maxlength="40" />
							<span class="label">You</span>
						</label>

						<label class="input-wrap">
							<input id="name2" type="text" placeholder="Juliet" aria-label="Their name" maxlength="40" />
							<span class="label">Crush</span>
						</label>
					</div>

					<div class="options">
						<label><input type="checkbox" id="allowJitter" /> Allow small surprise (Â±5%)</label>
						<label><input type="checkbox" id="useMaster" checked /> Support master numbers
							(11,22,33)</label>
					</div>

					<div class="actions">
						<button id="calcBtn" class="primary">Calculate Love â¤ï¸</button>
						 <button type="button" id="resetAllBtn" class="primary">Reset All ğŸ”„</button>
						<a href="./Games/index.html" class="primary NG">Love Spinner â¤ï¸</a>
						<a href="./Letter/index.html" class="primary NG">Write a letter</a>
						<button type="button" id="coupleSongBtn" class="primary NG">ğŸµ Love Song</button>
					</div>

					<div class="result-area" aria-live="polite">
						<div class="ring-wrap">
							<svg id="progressRing" class="progress-ring" width="160" height="160" viewBox="0 0 160 160">
								<defs>
									<linearGradient id="g1" x1="0" x2="1">
										<stop offset="0%" stop-color="#ff7a7a" />
									<stop offset="100%" stop-color="#ff2e63" />
								</linearGradient>
							</defs>
							<circle class="ring-bg" cx="80" cy="80" r="64" stroke-width="14" fill="transparent" />
							<circle class="ring" cx="80" cy="80" r="64" stroke-width="14" fill="transparent"
								stroke="url(#g1)" stroke-linecap="round" stroke-dasharray="0 999" />
							<g class="text-layer">
								<text id="percentText" class="percent-text" x="50%" y="50%" dominant-baseline="middle"
									text-anchor="middle">
									--%
								</text>
							</g>
						</svg>
					</div>

					<div class="score-meta">
						<div id="heading" class="heading">Waiting for names...</div>
						<div id="description" class="description">
							Try entering your names and press Calculate.
						</div>
					</div>
				</div>
				</form>

				<!-- Mystical Love Oracle -->
				<div id="loveOracle" class="love-oracle hidden" style="margin-top: 4rem; margin-bottom: 4rem">
					<div class="oracle-container">
						<!-- Magical sparkles background -->
						<div class="oracle-sparkles">
							<div class="sparkle sparkle-1">âœ¨</div>
							<div class="sparkle sparkle-2">â­</div>
							<div class="sparkle sparkle-3">ğŸ’«</div>
							<div class="sparkle sparkle-4">ğŸŒŸ</div>
							<div class="sparkle sparkle-5">âœ¨</div>
						</div>

						<!-- Oracle scroll/parchment -->
						<div class="oracle-scroll">
							<div class="scroll-header">
								<div class="crystal-ball">ğŸ”®</div>
								<div class="oracle-title">Love Oracle Whispers...</div>
							</div>

							<div class="scroll-content">
								<div class="oracle-border-top"></div>
								<div class="oracle-message">
									<p id="oracleText" class="oracle-text">
										The stars align to reveal your romantic destiny...
									</p>
								</div>
								<div class="oracle-border-bottom"></div>
							</div>

							<!-- Decorative elements -->
							<div class="oracle-decoration oracle-decoration-left">ğŸŒ¹</div>
							<div class="oracle-decoration oracle-decoration-right">ğŸ’</div>
						</div>

						<!-- Floating hearts/petals for mood -->
						<div class="oracle-mood-effects">
							<div class="floating-element floating-heart">ğŸ’—</div>
							<div class="floating-element floating-star">â­</div>
							<div class="floating-element floating-flower">ğŸŒ¸</div>
						</div>
					</div>
				</div>
			</div>

			<div class="right">
				<div class="panel tips-panel">
					<h3>Quick Links</h3>
					<ul>
						<li><a href="about.html" class="panel-link" target="_blank">ğŸ“– About Love Alchemy</a></li>
						<li><a href="how-it-works.html" class="panel-link" target="_blank">âš™ï¸ How It Works</a></li>
						<li>Same names â†’ same result (unless jitter is allowed)</li>
						<li>Share your results with friends below!</li>
					</ul>
				</div>

				<div class="panel how-it-works-panel">
					<h3>Features</h3>
					<ul>
						<li>âœ¨ <strong>Pythagorean numerology</strong> based calculations</li>
						<li>ğŸµ <strong>Auto sound effects</strong> when result is calculated</li>
						<li>ğŸ¨ <strong>Mood-based themes</strong> adapt to your score</li>
						<li>ğŸ’– <strong>Beautiful animations</strong> & confetti effects</li>
						<li>ğŸ“œ <strong>History tracking</strong> of all calculations</li>
					</ul>
				</div>
			</div>
		</section>

		<!-- Social share buttons - moved to bottom -->
		<section class="share-section">
			<div class="share-container">
				<h2 class="share-title">âœ¨ Share Your Love Result</h2>
				<p class="share-subtitle">Let the world know your compatibility score!</p>
				
				<div class="social-share-bottom">
					<button id="shareBtn" class="share-btn share-link" title="Share result">
						<i class="fa-solid fa-link"></i>
						<span>Share Link</span>
					</button>
					<a href="#" id="shareWhatsapp" target="_blank" class="share-btn share-whatsapp" title="Share on WhatsApp">
						<i class="fa-brands fa-whatsapp"></i>
						<span>WhatsApp</span>
					</a>
					<a href="#" id="shareTwitter" target="_blank" class="share-btn share-twitter" title="Share on X">
						<i class="fa-brands fa-x-twitter"></i>
						<span>X</span>
					</a>
					<a href="#" id="shareFacebook" target="_blank" class="share-btn share-facebook" title="Share on Facebook">
						<i class="fa-brands fa-facebook"></i>
						<span>Facebook</span>
					</a>
					<a href="#" id="shareInstagram" class="share-btn share-instagram" title="Share on Instagram">
						<i class="fa-brands fa-instagram"></i>
						<span>Instagram</span>
					</a>
					<a href="#" id="shareSnapchat" class="share-btn share-snapchat" title="Share on Snapchat">
						<i class="fa-brands fa-snapchat"></i>
						<span>Snapchat</span>
					</a>
				</div>
				
				<div class="download-options">
					<h3 class="download-title">ğŸ’ Download & Copy</h3>
					<div class="download-buttons">
						<button id="generateLoveCard" class="love-btn">
							<i class="fa-solid fa-heart"></i>
							<span>Generate Love Card</span>
						</button>
						<button id="copyLinkBtn" class="copy-btn" title="Copy link">
							<i class="fa-solid fa-copy"></i>
							<span>Copy Link</span>
						</button>
					</div>
				</div>
			</div>
		</section>

		<canvas id="particleCanvas" class="particle-canvas" aria-hidden="true"></canvas>
	</main>

	<!-- History Popup Modal -->
	<div class="history-popup-overlay hidden" id="historyPopupOverlay">
		<div class="history-popup" id="historyPanel">
			<div class="history-popup-header">
				<h3>History</h3>
				<button class="close-popup" id="closeHistoryPopup" title="Close">âœ•</button>
			</div>
			<div class="history-popup-content">
				<div id="historyList" class="history-list"></div>
				<div class="history-actions">
					<button id="exportHistoryBtn" class="primary">Export History as PDF</button>
					<button id="clearHistory" class="outline">Clear history</button>
				</div>
			</div>
		</div>
	</div>

	<div class="share-preview-overlay hidden" id="sharePreviewOverlay" role="dialog" aria-modal="true"
		aria-labelledby="sharePreviewTitle">
		<div class="share-preview">
			<div class="share-header">
				<h3 id="sharePreviewTitle">Shareable Card</h3>
				<button class="close-popup" id="closeSharePreview" title="Close">âœ•</button>
			</div>
			<div class="share-body">
				<canvas id="shareCanvas" width="900" height="900" style="
							max-width: 100%;
							height: auto;
							border-radius: 12px;
							display: block;
							margin: 0 auto;
						"></canvas>
			</div>
			<div class="share-footer">
				<button id="downloadImageBtn" class="primary">Download Image</button>
				<button id="copyImageBtn" class="ghost-btn">Copy Image</button>
				<button id="nativeShareBtn" class="ghost-btn">Native Share</button>
			</div>
		</div>
	</div>

	<!-- Feedback Popup Modal -->
	<div class="feedback-popup-overlay hidden" id="feedbackPopupOverlay">
		<div class="feedback-popup" id="feedbackPanel">
			<div class="feedback-popup-header">
				<h3>ğŸ’¬ Send Feedback</h3>
				<button class="close-popup" id="closeFeedbackPopup" title="Close">âœ•</button>
			</div>
			<div class="feedback-popup-content">
				<form id="feedbackForm" class="feedback-form">
					<label for="feedbackName" class="feedback-label">
						Name
						<input type="text" id="feedbackName" placeholder="Your name" maxlength="50" required />
					</label>

					<label for="feedbackEmail" class="feedback-label">
						Email (Optional)
						<input type="email" id="feedbackEmail" placeholder="your@email.com" maxlength="100" />
					</label>

					<label for="feedbackRating" class="feedback-label">
						Rating
						<div class="rating-stars" id="ratingStars">
							<span class="star" data-rating="1">â­</span>
							<span class="star" data-rating="2">â­</span>
							<span class="star" data-rating="3">â­</span>
							<span class="star" data-rating="4">â­</span>
							<span class="star" data-rating="5">â­</span>
						</div>
						<input type="hidden" id="feedbackRating" value="0" />
					</label>

					<label for="feedbackMessage" class="feedback-label">
						Your Feedback *
						<textarea id="feedbackMessage" placeholder="Tell us what you think..." rows="5" maxlength="500"
							required></textarea>
						<span class="char-count"><span id="charCount">0</span>/500</span>
					</label>

					<div class="feedback-actions">
						<button type="submit" class="primary">Submit Feedback âœ¨</button>
						<button type="button" id="cancelFeedback" class="outline">Cancel</button>
					</div>
				</form>

				<div id="feedbackSuccess" class="feedback-success hidden">
					<div class="success-icon">âœ…</div>
					<h4>Thank you for your feedback!</h4>
					<p>We appreciate you taking the time to share your thoughts.</p>
				</div>

				<div class="feedback-list-section">
					<h4>Recent Feedback</h4>
					<div id="feedbackList" class="feedback-list"></div>
				</div>
			</div>
		</div>
	</div>

	<!-- ShareLink Popup Modal -->
	<div class="sharelink-popup-overlay hidden" id="shareLinkPopupOverlay">
		<div class="feedback-popup" id="shareLinkPanel">
			<div class="feedback-popup-header">
				<h3>ğŸ”— Share Link</h3>
				<button class="close-popup" id="closeShareLinkPopup" title="Close">âœ•</button>
			</div>
			<div class="feedback-popup-content">
				<form id="shareLinkForm" class="feedback-form">
					<div>
						<p>Click on the copy link button to copy the link to your clipboard!</p>
						<p>You can share it with your friends to show your love compatibility result. ğŸ’–</p>
					</div>
					<label for="shareLinkInput" class="shareLink-label">
						Shareable Link
						<input type="text" id="shareLinkInput" readonly />
					</label>

					<div class="feedback-actions">
						<button type="button" id="copyShareLink" class="primary">Copy Link</button>
						<button type="button" id="closeShareLink" class="outline">Close</button>
					</div>
				</form>
			</div>
		</div>
	</div>

	<!-- Couple's Song Popup Modal -->
	<div class="sharelink-popup-overlay hidden" id="coupleSongPopupOverlay">
		<div class="feedback-popup" id="coupleSongPanel">
			<div class="feedback-popup-header">
				<h3>ğŸµ Love Song</h3>
				<button class="close-popup" id="closeCoupleSongPopup" title="Close">âœ•</button>
			</div>
			<div class="feedback-popup-content">
				<form id="coupleSongForm" class="feedback-form">
					<label for="songPercentInput" class="shareLink-label">
						Love Percentage (0-100)
						<input type="number" id="songPercentInput" min="0" max="100" placeholder="Enter your love percentage" />
						<div id="songPercentError" class="input-error hidden">Please enter a valid percentage between 0 and 100.</div>
					</label>

					<div id="songRecommendation" class="song-recommendation hidden">
						<div class="song-info">
							<h4 id="songTitle"></h4>
							<p id="songArtist"></p>
							<p id="songMood"></p>
							<div class="song-video" style="margin: 1rem 0; border-radius: 8px; overflow: hidden; position: relative;">
								<div id="songThumbnail" style="position: relative; cursor: pointer; border-radius: 8px; overflow: hidden;">
									<img id="thumbnailImg" src="" alt="Song thumbnail" style="width: 100%; height: 200px; object-fit: cover; display: block;" />
									<div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.7); border-radius: 50%; padding: 15px; color: white; font-size: 24px;">
										<i class="fa-solid fa-play"></i>
									</div>
								</div>
							</div>
							<div class="song-buttons">
								<a id="songYouTubeLink" href="#" target="_blank" class="primary">Listen on YouTube</a>
								<button id="shareSongBtn" class="download-btn">
									<i class="fa-solid fa-copy"></i>
									<span>Copy Link</span>
								</button>
							</div>
						</div>
					</div>

					<div class="feedback-actions">
						<button type="button" id="getSongBtn" class="primary">Get Song Recommendation</button>
						<button type="button" id="closeCoupleSong" class="outline">Close</button>
					</div>
				</form>
			</div>
		</div>
	</div>


	<div id="footer-placeholder"></div>

		<script>
			// Load footer
			fetch('components/footer.html')
				.then(response => response.text())
				.then(html => {
					document.getElementById('footer-placeholder').innerHTML = html;
				});
		</script>

		<!-- Contact Section (target for footer Contact button) -->
		<section id="contact" class="contact-section">
			<div class="contact-container">
				<h2>Contact</h2>
				<p>If you'd like to get in touch, drop a message here.</p>

				<form id="contactForm" class="contact-form" onsubmit="event.preventDefault(); alert('Thanks â€” message sent (demo).');">
					<label>
						Name
						<input type="text" id="contactName" placeholder="Your name" required />
					</label>
					<label>
						Email
						<input type="email" id="contactEmail" placeholder="you@example.com" required />
					</label>
					<label>
						Message
						<textarea id="contactMessage" rows="4" placeholder="Write a short message..." required></textarea>
					</label>
					<div class="contact-actions">
						<button type="submit" class="primary">Send Message</button>
						<button type="button" class="outline" onclick="window.location.hash='top';">Back to top</button>
					</div>
				</form>
			</div>
		</section>


		<script src="script.js"></script>
	</body>
</html>
