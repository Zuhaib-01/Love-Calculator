<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- SEO basics -->
  <meta name="description" content="Love Alchemy — Discover love compatibility using numerology, fun animations, and shareable results. Find out your soul chemistry today!">
  <meta name="keywords" content="love calculator, numerology love, love compatibility, love test, soulmate calculator, romantic compatibility, Love Alchemy">

  <link rel="icon" href="hearts.png" type="image/x-icon">

  <title>Love Alchemy — Advanced Love Calculator 💘</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700;900&display=swap" rel="stylesheet">
</head>
<body>
  <main class="app">
    <div class="bg-ambience"></div>

    <header class="top">
      <div class="logo">
        <svg viewBox="0 0 24 24" class="logo-icon" aria-hidden="true">
          <path d="M12 21s-7-4.5-9.5-8.5S3.2 3.5 12 7c8.8-3.5 9.5 5.5 9.5 5.5S19 16.5 12 21z"/>
        </svg>
        <span>Love Alchemy</span>
      </div>

      <div class="controls">
        <button id="historyBtn" class="ghost-btn" title="View history">📜 History</button>
        <button id="resetBtn" class="ghost-btn" title="Reset inputs">🔁 Reset</button>
        <button id="themeToggleBtn" class="ghost-btn" title="Theme">🌙 Theme</button>
      </div>
    </header>

    <section class="card">
      <div class="left">
        <h1 class="title">✨ Love Calculator</h1>
        <p class="subtitle">A mix of numerology + a pinch of magic — same names give the same result.</p>

        <form id="loveForm" class="form" autocomplete="off" onsubmit="return false;">
          <div class="inputs">
            <label class="input-wrap">
              <input id="name1" type="text" placeholder="Romeo" aria-label="Your name" maxlength="40">
              <span class="label">You</span>
            </label>

            <label class="input-wrap">
              <input id="name2" type="text" placeholder="Juliet" aria-label="Their name" maxlength="40">
              <span class="label">Crush</span>
            </label>
          </div>

          <div class="options">
            <label><input type="checkbox" id="allowJitter"> Allow small surprise (±5%)</label>
            <label><input type="checkbox" id="useMaster" checked> Support master numbers (11,22,33)</label>
          </div>

          <div class="actions">
            <button id="calcBtn" class="primary">Calculate Love ❤️</button>
            <button id="shareBtn" class="ghost-btn" title="Share result">🔗 Share</button>
          </div>

          <!-- Social share buttons -->
          <div class="social-share">
            <p>Share your love result:</p>
            <a href="#" id="shareWhatsapp" target="_blank" title="Share on WhatsApp">📱 WhatsApp</a>
            <a href="#" id="shareTwitter" target="_blank" title="Share on Twitter">🐦 Twitter</a>
            <a href="#" id="shareFacebook" target="_blank" title="Share on Facebook">📘 Facebook</a>
            <button id="copyLinkBtn" title="Copy link">🔗 Copy Link</button>
          </div>
        </form>

        <div class="result-area" aria-live="polite">
          <div class="ring-wrap">
            <svg id="progressRing" class="progress-ring" width="160" height="160" viewBox="0 0 160 160">
              <defs>
                <linearGradient id="g1" x1="0" x2="1">
                  <stop offset="0%" stop-color="#ff7a7a"/>
                  <stop offset="100%" stop-color="#ff2e63"/>
                </linearGradient>
              </defs>
              <circle class="ring-bg" cx="80" cy="80" r="64" stroke-width="14" fill="transparent" />
              <circle class="ring" cx="80" cy="80" r="64" stroke-width="14" fill="transparent"
                      stroke="url(#g1)" stroke-linecap="round" stroke-dasharray="0 999"/>
              <g class="text-layer">
                <text id="percentText" class="percent-text" x="50%" y="50%" dominant-baseline="middle" text-anchor="middle">--%</text>
              </g>
            </svg>
          </div>

          <div class="score-meta">
            <div id="heading" class="heading">Waiting for names...</div>
            <div id="description" class="description">Try entering your names and press Calculate.</div>
          </div>
        </div>

        <div class="extras">
          <button id="confettiToggle" class="ghost-btn">🎊 Confetti</button>
          <button id="soundToggle" class="ghost-btn">🔈 Sound</button>
        </div>
      </div>

      <div class="right">
        <div class="panel tips-panel">
          <h3>Tips</h3>
          <ul>
            <li>Same names → same result (unless jitter is allowed).</li>
            <li>Toggle confetti or sound for a surprise.</li>
            <li>You can share results via a short URL (copy to clipboard).</li>
          </ul>
        </div>

        <div class="panel how-it-works-panel">
          <h3>How it works</h3>
          <ol>
            <li>We convert letters using <strong>Pythagorean numerology</strong>.</li>
            <li>We reduce to single digits (optionally keep master numbers).</li>
            <li>Combine numbers + apply modifiers to produce a compatibility %.</li>
            <li>We animate hearts, confetti & ring for a delightful reveal ✨</li>
          </ol>
        </div>
      </div>
    </section>

    <canvas id="particleCanvas" class="particle-canvas" aria-hidden="true"></canvas>
    <audio id="chime" src="data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAA..."></audio>

  </main>

  <!-- History Popup Modal -->
  <div class="history-popup-overlay hidden" id="historyPopupOverlay">
    <div class="history-popup" id="historyPanel">
      <div class="history-popup-header">
        <h3>History</h3>
        <button class="close-popup" id="closeHistoryPopup" title="Close">✕</button>
      </div>
      <div class="history-popup-content">
        <div id="historyList" class="history-list"></div>
        <div class="history-actions">
          <button id="exportHistoryBtn">Export History as PDF</button>

          <button id="clearHistory" class="outline">Clear history</button>
        </div>
      </div>
    </div>
  </div>

<div class="share-preview-overlay hidden" id="sharePreviewOverlay" role="dialog" aria-modal="true" aria-labelledby="sharePreviewTitle">
  <div class="share-preview">
    <div class="share-header">
      <h3 id="sharePreviewTitle">Shareable Card</h3>
      <button class="close-popup" id="closeSharePreview" title="Close">✕</button>
    </div>
    <div class="share-body">
      <canvas id="shareCanvas" width="900" height="900" style="max-width:100%; height:auto; border-radius:12px; display:block; margin: 0 auto;"></canvas>

    </div>
    <div class="share-footer">
      <button id="downloadImageBtn" class="primary">Download Image</button>
      <button id="copyImageBtn" class="ghost-btn">Copy Image</button>
      <button id="nativeShareBtn" class="ghost-btn">Native Share</button>
    </div>
  </div>
</div>

  <footer class="footer">
    Made with ❤️ • Numerology logic (Pythagorean) • No data leaves your browser
  </footer>

  <script src="script.js"></script>
</body>
</html>
